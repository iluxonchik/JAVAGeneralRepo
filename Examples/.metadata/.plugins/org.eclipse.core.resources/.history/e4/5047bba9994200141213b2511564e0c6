import java.util.Random;


public class AliveAnimalState implements PredatorState{
	
	Animal animal;
	
	public AliveAnimalState(Object animal){
		if (animal instanceof Cat)
			this.animal = (Cat)animal;
		else if (animal instanceof Dog)
			this.animal = (Dog)animal;
	}
	
	public void run(){
		if ((animal.getEnergy() - animal.RUN_ENERGY) > 0){
			System.out.println(animal.getName() + "is running! He just spent " + animal.getRunEnergy() + "energy.");
			animal.setEnergy(animal.getEnergy() - animal.RUN_ENERGY);
		}
		else{
			// Animal died
			animal.setEnergy(0);
			animal.setState(animal.getDeadState());
		}
	}
	
	public void attack(Object o){
		// TODO
		Random rand = new Random();
		if (animal instanceof Cat){
			// Animal is a cat
			if (o instanceof Bird){
				o = (Bird)o;
				// If it's a bird, the ratio is 1 in 10 is a success
				if (rand.nextInt(10) == 0)
				
			}
			
		}
		else if (animal instanceof Dog){
			
		}
	}
}
